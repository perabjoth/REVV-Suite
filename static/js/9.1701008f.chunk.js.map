{"version":3,"sources":["api/revvData.js","components/Leaderboard.js","api/revvTransactions.js"],"names":["axios","create","baseURL","leaderboardPrefix","ownerSuffix","hiredSuffix","tableIcons","Add","forwardRef","props","ref","Check","Clear","Delete","DetailPanel","Edit","Export","Filter","FirstPage","LastPage","NextPage","PreviousPage","ResetSearch","Search","SortArrow","ThirdStateCheck","ViewColumn","getArrayValue","array","field","value","result","filter","item","length","generatePrizeTable","prizeData","prizeDistribution","splitLeaderboard","totalPrizeString","dynamicPrizePoolRatio","percentagePrizePool","prizeTable","unit","toUpperCase","includes","prizeTotal","replace","total","totalDrivers","hiredDrivers","hired","ownerDrivers","owner","ownerPercentage","hiredPercentage","halfSplit","useOriginalPrize","undefined","rankRange","i","hiredPeoplePerPrize","ownerPeoplePerPrize","prize","j","parseInt","rank","rankString","toString","currentPrize","hiredPrize","toFixed","ownerPrize","Table","TableHead","TableRow","TableCell","TableBody","map","prizeRow","Card","sx","minWidth","CardContent","align","Prizes","prizeAsyncGenerator","a","generatePrizeTableContent","eventData","data","prize_total","state","LinearProgress","this","setPrizeTable","setState","Component","BootstrapDialogTitle","children","onClose","other","DialogTitle","m","p","IconButton","onClick","style","position","right","top","color","theme","palette","grey","columns","title","hidden","filterPlaceholder","render","rowData","Date","endTimestamp","getTime","trigger","closeOnDocumentClick","modal","closeOnEscape","close","Dialog","open","id","startTimestamp","type","formatEventData","singleDataPoint","parseFloat","prize_total_formatted","practice","sort","b","Leaderboard","BasicTable","revvData","get","then","response","catch","e","console","error","setPrizeData","setEventData","getREVVPrice","CoingeckoPrice","setREVVPrice","revv","usd","setWalletPosition","walletPositions","walletTransactions","columnsDeepCopy","JSON","parse","stringify","obj","totalREVV","totalDollars","totalRank","participatedREVVCount","paidTriesCount","totalTries","forEach","event","REVVReward","dollarReward","tryCount","reduce","n","val","timeStamp","currentWalletPosition","currentRank","time","millis","minutes","Math","floor","seconds","millisToMinutesAndSeconds","walletPrize","index","prizeRank","nextIndex","finalPrize","tries","RewardString","setAverages","setTotalPrizes","setEventDataLoaded","getWalletPositions","params","walletAddress","allleaderboards","ownerLeaderboard","hiredLeaderboard","ownerEntry","hiredEntry","leaderboard","revvTransactions","txns","filterTransactions","eventDataLoaded","REVVPrice","averageRank","averageREVV","averageTries","element","leaderboard_id","sessionID","count","$numberLong","entry","wallet","txn","tokenSymbol","to","Grid","container","spacing","md","xs","TextField","label","variant","fullWidth","focused","placeholder","onChange","setWalletAddress","target","alignContent","alignItems","Button","Fragment","disabled","width","display","icons","isLoading","options","pageSize","pageSizeOptions","filtering","selection","search","toolbar","grouping","exportButton","exportAllData","onSelectionChange","rows","row"],"mappings":"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","file":"static/js/9.1701008f.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nexport default axios.create({\r\n    baseURL: \"https://us-east-1.aws.webhooks.mongodb-realm.com/api/client/v2.0/app/revv-suite-qdwss/service/revv-data/incoming_webhook/\",\r\n});\r\n","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport MaterialTable from 'material-table';\r\nimport { forwardRef } from 'react';\r\nimport CoingeckoPrice from '../api/CoingeckoPrice';\r\nimport revvData from '../api/revvData';\r\nimport revvTransactions from '../api/revvTransactions'\r\nimport Popup from 'reactjs-popup';\r\nimport Button from '@material-ui/core/Button';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport theme from './theme';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\n\r\nimport AddBox from '@material-ui/icons/AddBox';\r\nimport ArrowDownward from '@material-ui/icons/ArrowDownward';\r\nimport Check from '@material-ui/icons/Check';\r\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\r\nimport ChevronRight from '@material-ui/icons/ChevronRight';\r\nimport Clear from '@material-ui/icons/Clear';\r\nimport DeleteOutline from '@material-ui/icons/DeleteOutline';\r\nimport Edit from '@material-ui/icons/Edit';\r\nimport FilterList from '@material-ui/icons/FilterList';\r\nimport FirstPage from '@material-ui/icons/FirstPage';\r\nimport LastPage from '@material-ui/icons/LastPage';\r\nimport Remove from '@material-ui/icons/Remove';\r\nimport SaveAlt from '@material-ui/icons/SaveAlt';\r\nimport Search from '@material-ui/icons/Search';\r\nimport ViewColumn from '@material-ui/icons/ViewColumn';\r\n\r\nconst leaderboardPrefix = 'GAME_SESSION_ALPHA_A_'\r\nconst ownerSuffix = '_SPLIT_OWNER'\r\nconst hiredSuffix = '_SPLIT_HIRED'\r\nconst tableIcons = {\r\n    Add: forwardRef((props, ref) => <AddBox {...props} ref={ref} />),\r\n    Check: forwardRef((props, ref) => <Check {...props} ref={ref} />),\r\n    Clear: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n    Delete: forwardRef((props, ref) => <DeleteOutline {...props} ref={ref} />),\r\n    DetailPanel: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\r\n    Edit: forwardRef((props, ref) => <Edit {...props} ref={ref} />),\r\n    Export: forwardRef((props, ref) => <SaveAlt {...props} ref={ref} />),\r\n    Filter: forwardRef((props, ref) => <FilterList {...props} ref={ref} />),\r\n    FirstPage: forwardRef((props, ref) => <FirstPage {...props} ref={ref} />),\r\n    LastPage: forwardRef((props, ref) => <LastPage {...props} ref={ref} />),\r\n    NextPage: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\r\n    PreviousPage: forwardRef((props, ref) => <ChevronLeft {...props} ref={ref} />),\r\n    ResetSearch: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n    Search: forwardRef((props, ref) => <Search {...props} ref={ref} />),\r\n    SortArrow: forwardRef((props, ref) => <ArrowDownward {...props} ref={ref} />),\r\n    ThirdStateCheck: forwardRef((props, ref) => <Remove {...props} ref={ref} />),\r\n    ViewColumn: forwardRef((props, ref) => <ViewColumn {...props} ref={ref} />)\r\n};\r\n\r\nfunction getArrayValue(array, field, value) {\r\n    let result = array.filter((item) => {\r\n        return item[field] === value\r\n    })\r\n    if (result.length > 0) {\r\n        return result[0]\r\n    }\r\n    return undefined\r\n}\r\n\r\nfunction generatePrizeTable(prizeData, prizeDistribution, splitLeaderboard, totalPrizeString, dynamicPrizePoolRatio, percentagePrizePool) {\r\n    let prizeTable = <div></div>\r\n    let unit = \"$\"\r\n\r\n    if (totalPrizeString.toUpperCase().includes(\"REVV\")) {\r\n        unit = \"REVV\"\r\n    }\r\n    let prizeTotal = totalPrizeString.replace(/\\D/g, '');\r\n\r\n    if (prizeData && prizeData.total > 0) {\r\n        let totalDrivers = prizeData.total\r\n        let hiredDrivers = prizeData.hired\r\n        let ownerDrivers = prizeData.owner\r\n        let ownerPercentage = (ownerDrivers / totalDrivers)\r\n        let hiredPercentage = (hiredDrivers / totalDrivers)\r\n        let halfSplit = false\r\n        let useOriginalPrize = false\r\n        if (!dynamicPrizePoolRatio && splitLeaderboard) {\r\n            useOriginalPrize = (dynamicPrizePoolRatio === undefined)\r\n            ownerPercentage = 0.5\r\n            hiredPercentage = 0.5\r\n            halfSplit = true\r\n        }\r\n\r\n        if(!splitLeaderboard){\r\n            ownerPercentage = 1\r\n        }\r\n        \r\n\r\n        let rankRange = false\r\n        for (const i in prizeDistribution) {\r\n            prizeDistribution[i].unit = unit\r\n            let hiredPeoplePerPrize = 1\r\n            let ownerPeoplePerPrize = 1\r\n            if (prizeDistribution[i].prize < 1 || halfSplit) {\r\n\r\n                if (i < prizeDistribution.length - 1) {\r\n                    let j = parseInt(i) + 1\r\n                    if (prizeDistribution[j].rank - prizeDistribution[i].rank > 1) {\r\n                        rankRange = true\r\n                        prizeDistribution[i].rankString = prizeDistribution[i].rank.toString() + ' - ' + (prizeDistribution[j].rank - 1).toString()\r\n                        hiredPeoplePerPrize = parseInt(prizeDistribution[j].rank) - parseInt(prizeDistribution[i].rank)\r\n                        ownerPeoplePerPrize = hiredPeoplePerPrize\r\n                    }\r\n                } else {\r\n                    if (rankRange) {\r\n                        prizeDistribution[i].rankString = prizeDistribution[i].rank.toString() + '+*'\r\n                        if (hiredDrivers > prizeDistribution[i].rank) {\r\n                            hiredPeoplePerPrize = hiredDrivers - prizeDistribution[i].rank\r\n                        } else {\r\n                            hiredPeoplePerPrize = -1\r\n                        }\r\n\r\n                        if (ownerDrivers > prizeDistribution[i].rank) {\r\n                            ownerPeoplePerPrize = ownerDrivers - prizeDistribution[i].rank\r\n                        } else {\r\n                            ownerPeoplePerPrize = -1\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if (!prizeDistribution[i].rankString) {\r\n                    prizeDistribution[i].rankString = prizeDistribution[i].rank.toString()\r\n                }\r\n\r\n                let currentPrize = prizeDistribution[i].prize * (useOriginalPrize ? 1 : prizeTotal)\r\n\r\n                if (hiredPeoplePerPrize !== -1) {\r\n                    prizeDistribution[i].hiredPrize = ((useOriginalPrize ? 1 : hiredPercentage) * currentPrize / hiredPeoplePerPrize).toFixed(2)\r\n                } else {\r\n                    prizeDistribution[i].hiredPrize = 0\r\n                }\r\n\r\n                if (ownerPeoplePerPrize !== -1) {\r\n                    prizeDistribution[i].ownerPrize = ((useOriginalPrize ? 1 : ownerPercentage) * currentPrize / ownerPeoplePerPrize).toFixed(2)\r\n                } else {\r\n                    prizeDistribution[i].ownerPrize = 0\r\n                }\r\n            }\r\n        }\r\n\r\n        prizeTable = <Table>\r\n            <TableHead>\r\n                <TableRow>\r\n                    <TableCell>Rank</TableCell>\r\n                    <TableCell>Driver Prize {splitLeaderboard && '(' + (ownerPercentage * 100).toFixed(2) + '%)'}</TableCell>\r\n                    {splitLeaderboard && <TableCell>Hired Prize ({(hiredPercentage * 100).toFixed(2)}%)</TableCell>}\r\n                </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n                {\r\n                    prizeDistribution.map((prizeRow) => (\r\n\r\n                        <TableRow>\r\n                            <TableCell>\r\n                                {prizeRow.rankString ? prizeRow.rankString : prizeRow.rank}\r\n                            </TableCell>\r\n                            <TableCell>\r\n                                {splitLeaderboard || percentagePrizePool ? prizeRow.ownerPrize : prizeRow.prize} {unit}\r\n                            </TableCell>\r\n                            {splitLeaderboard && <TableCell>\r\n                                {prizeRow.hiredPrize} {unit}\r\n                            </TableCell>}\r\n                        </TableRow>\r\n                    ))\r\n                }\r\n            </TableBody>\r\n        </Table>\r\n    } else {\r\n        prizeTable = <Card sx={{ minWidth: 275 }}>\r\n            <CardContent align=\"center\">\r\n                <h1>Prize Data Not Available</h1>\r\n            </CardContent>\r\n        </Card>\r\n    }\r\n\r\n    return prizeTable\r\n}\r\n\r\nclass Prizes extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            prizeTable: <LinearProgress />,\r\n            prizeData: undefined,\r\n        };\r\n    }\r\n\r\n    generatePrizeTableContent(prizeData, prizeDistribution, splitLeaderboard, totalPrizeString, dynamicPrizePoolRatio,percentagePrizePool) {\r\n        this.setPrizeTable(generatePrizeTable(prizeData, prizeDistribution, splitLeaderboard, totalPrizeString, dynamicPrizePoolRatio,percentagePrizePool))\r\n    }\r\n\r\n    setPrizeTable(value) {\r\n        this.setState({\r\n            prizeTable: value\r\n        })\r\n    }\r\n\r\n    prizeAsyncGenerator = async () => {\r\n        this.generatePrizeTableContent(this.props.eventData.prizeData,\r\n            this.props.eventData.data.prize,\r\n            this.props.eventData.data.splitLeaderboard,\r\n            this.props.eventData.data.prize_total.toString(),\r\n            this.props.eventData.data.dynamicPrizePoolRatio,\r\n            this.props.eventData.data.percentagePrizePool)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.prizeAsyncGenerator()\r\n    }\r\n\r\n    render() {\r\n        return <div>{this.state.prizeTable}</div>\r\n    }\r\n}\r\n\r\nconst BootstrapDialogTitle = (props) => {\r\n    const { children, onClose, ...other } = props;\r\n\r\n    return (\r\n        <DialogTitle sx={{ m: 0, p: 2 }} {...other}>\r\n            {children}\r\n            {onClose ? (\r\n                <IconButton\r\n                    aria-label=\"close\"\r\n                    onClick={onClose}\r\n                    style={{\r\n                        position: 'absolute',\r\n                        right: 8,\r\n                        top: 8,\r\n                        color: (theme) => theme.palette.grey[500],\r\n                    }}\r\n                >\r\n                    <CloseIcon />\r\n                </IconButton>\r\n            ) : null}\r\n        </DialogTitle>\r\n    );\r\n};\r\n\r\nBootstrapDialogTitle.propTypes = {\r\n    children: PropTypes.node,\r\n    onClose: PropTypes.func.isRequired,\r\n};\r\nfunction millisToMinutesAndSeconds(millis) {\r\n    var minutes = Math.floor(millis / 60000);\r\n    var seconds = ((millis % 60000) / 1000).toFixed(3);\r\n    return minutes + \":\" + (seconds < 10 ? '0' : '') + seconds;\r\n}\r\n\r\nconst columns = [\r\n    { title: \"Series\", field: \"data.series\", hidden: true },\r\n    { title: \"Name\", field: \"data.name\", filterPlaceholder: 'Filter Name' },\r\n    { title: \"Rank\", field: \"rank\", filterPlaceholder: 'Filter Rank', hidden: true },\r\n    { title: \"Time\", field: \"time\", filterPlaceholder: 'Filter Time', hidden: true },\r\n    { title: \"REVV\", field: \"RewardString\", filterPlaceholder: 'Filter REVV', hidden: true },\r\n    { title: \"Tries\", field: \"tries\", filterPlaceholder: 'Filter Tries', hidden: true },\r\n    {\r\n        title: \"View Pizes\", field: \"\", render: rowData => {\r\n            if (new Date(rowData.endTimestamp).getTime() < new Date().getTime()) {\r\n                return <Popup trigger={<a>View Prizes</a>} position=\"bottom center\" closeOnDocumentClick={false} modal closeOnEscape >\r\n                    {close => {\r\n                        return (\r\n                            <Dialog open onClose={close}>\r\n                                <BootstrapDialogTitle id=\"customized-dialog-title\" onClose={close}>\r\n                                    Prize Distribution\r\n                                </BootstrapDialogTitle>\r\n                                <Prizes eventData={rowData} />\r\n                            </Dialog>\r\n                        )\r\n                    }\r\n                    }\r\n                </Popup>\r\n            } else {\r\n                return <div>{new Date(rowData.startTimestamp).getTime() < new Date().getTime() ? 'In Progress' : 'Upcoming'}...</div>\r\n            }\r\n        }\r\n    },\r\n    { title: \"Start\", field: \"startTimestamp\", type: \"date\", filterPlaceholder: 'Filter Start' },\r\n    { title: \"End\", field: \"endTimestamp\", type: \"date\", filterPlaceholder: 'Filter End' },\r\n    { title: \"Track\", field: \"data.track\", filterPlaceholder: 'Filter Track' },\r\n    { title: \"Laps\", field: \"data.lapCount\", filterPlaceholder: 'Filter Laps' },\r\n    { title: \"Weather\", field: \"data.weather\", filterPlaceholder: 'Filter Weather' },\r\n    { title: \"Total Prize\", field: \"data.prize_total_formatted\", filterPlaceholder: 'Filter Prize' },\r\n    { title: \"id\", field: \"id\", hidden: true },\r\n    { title: \"percentagePrizePool\", field: \"data.percentagePrizePool\", hidden: true },\r\n    { title: \"dynamicPrizePoolRatio\", field: \"data.dynamicPrizePoolRatio\", hidden: true },\r\n    { title: \"splitLeaderboard\", field: \"data.splitLeaderboard\", hidden: true },\r\n];\r\n\r\n\r\nfunction formatEventData(eventData) {\r\n    eventData.map(singleDataPoint => {\r\n        singleDataPoint.startTimestamp = new Date(parseFloat(singleDataPoint.startTimestamp))\r\n        singleDataPoint.endTimestamp = new Date(parseFloat(singleDataPoint.endTimestamp))\r\n        if (singleDataPoint.data.prize_total.toString().toUpperCase().includes(\"REVV\")) {\r\n            singleDataPoint.data.prize_total_formatted = singleDataPoint.data.prize_total\r\n        } else {\r\n            singleDataPoint.data.prize_total_formatted = singleDataPoint.data.prize_total.toString() + \" $\"\r\n        }\r\n\r\n        return singleDataPoint\r\n    })\r\n\r\n    eventData = eventData.filter(singleDataPoint => { return !singleDataPoint.data.practice })\r\n\r\n    eventData.sort(function (a, b) {\r\n        return new Date(b.startTimestamp) - new Date(a.startTimestamp);\r\n    });\r\n\r\n    return eventData;\r\n}\r\n\r\n\r\nexport default class Leaderboard extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            eventData: undefined,\r\n            eventDataLoaded: false,\r\n            walletAddress: '',\r\n            walletPositions: undefined,\r\n            columns: columns,\r\n            totalREVV: undefined,\r\n            totalDollars: undefined,\r\n            totalTries: undefined,\r\n            REVVPrice: 0.0,\r\n            averageRank: 0.0,\r\n            averageREVV: 0.0,\r\n            averageTries: 0.0\r\n        };\r\n    }\r\n\r\n    setEventData(eventData) {\r\n        this.setState({\r\n            eventData: eventData,\r\n            eventDataLoaded: true\r\n        })\r\n    }\r\n\r\n    setEventDataLoaded(value) {\r\n        this.setState({ eventDataLoaded: value })\r\n    }\r\n\r\n    BasicTable = async () => {\r\n        let eventData\r\n        await revvData.get('events').then((response) => {\r\n            eventData = response.data\r\n            eventData = formatEventData(eventData);\r\n\r\n        }).catch((e) => {\r\n            console.error(e)\r\n        })\r\n\r\n        await revvData.get('leaderboards').then((response) => {\r\n            this.setPrizeData(response.data, eventData)\r\n        }).catch((e) => {\r\n            console.error(e)\r\n        })\r\n\r\n        this.setEventData(eventData);\r\n    };\r\n\r\n    setPrizeData(data, eventData) {\r\n        let prizeData = {}\r\n        data.forEach(element => {\r\n            let owner = element.leaderboard_id.includes(ownerSuffix)\r\n            let hired = element.leaderboard_id.includes(hiredSuffix)\r\n            let sessionID = element.leaderboard_id.replace(leaderboardPrefix, '').replace(ownerSuffix, '').replace(hiredSuffix, '')\r\n            let count = parseInt(element.count.$numberLong)\r\n\r\n            if (owner) {\r\n                if (!prizeData[sessionID]) {\r\n                    prizeData[sessionID] = { 'owner': count }\r\n                } else {\r\n                    prizeData[sessionID].owner = count\r\n                }\r\n            }\r\n\r\n            if (hired) {\r\n                if (!prizeData[sessionID]) {\r\n                    prizeData[sessionID] = { 'hired': count }\r\n                } else {\r\n                    prizeData[sessionID].hired = count\r\n                }\r\n            }\r\n\r\n            if (!owner && !hired) {\r\n                if (!prizeData[sessionID]) {\r\n                    prizeData[sessionID] = { 'total': count }\r\n                } else {\r\n                    prizeData[sessionID].total = count\r\n                }\r\n            }\r\n\r\n            if (prizeData[sessionID] && prizeData[sessionID].hired && prizeData[sessionID].owner) {\r\n                prizeData[sessionID].total = parseInt(prizeData[sessionID].hired) + parseInt(prizeData[sessionID].owner)\r\n            }\r\n        });\r\n\r\n        eventData.forEach(event => {\r\n            if (prizeData[event.id.toUpperCase()]) {\r\n                event.prizeData = prizeData[event.id.toUpperCase()]\r\n            }\r\n        })\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.BasicTable();\r\n    }\r\n\r\n    setWalletAddress(value) {\r\n        this.setState({\r\n            walletAddress: value,\r\n            walletPositions: undefined,\r\n            columns: columns,\r\n            totalREVV: undefined,\r\n            totalDollars: undefined,\r\n            totalTries: undefined,\r\n            REVVPrice: 0.0,\r\n            averageRank: 0.0,\r\n            averageREVV: 0.0,\r\n            averageTries: 0.0\r\n        })\r\n    }\r\n\r\n    filterWallet(entry) {\r\n        return entry.wallet === this.walletAddress\r\n    }\r\n\r\n    setREVVPrice(REVVPrice) {\r\n        this.setState({\r\n            REVVPrice: REVVPrice\r\n        })\r\n    }\r\n\r\n\r\n    getREVVPrice = async (e) => {\r\n        await CoingeckoPrice\r\n            .get(`price?ids=revv&vs_currencies=usd`)\r\n            .then((response) => {\r\n                this.setREVVPrice(response.data.revv.usd)\r\n            }).catch((e) => {\r\n                console.error(e)\r\n            });\r\n    }\r\n\r\n    setWalletPosition = (walletPositions, walletTransactions) => {\r\n\r\n        this.setState({ walletPositions: walletPositions })\r\n        let columnsDeepCopy = JSON.parse(JSON.stringify(this.state.columns));\r\n        columnsDeepCopy = columnsDeepCopy.filter(function (obj) {\r\n            return obj.field !== '';\r\n        });\r\n\r\n        columnsDeepCopy[2].hidden = false\r\n        columnsDeepCopy[3].hidden = false\r\n        columnsDeepCopy[4].hidden = false\r\n        columnsDeepCopy[5].hidden = false\r\n\r\n        this.setState({\r\n            columns: columnsDeepCopy\r\n        });\r\n\r\n        this.getREVVPrice()\r\n\r\n        let totalREVV = 0.0\r\n        let totalDollars = 0.0\r\n        let totalRank = 0.0\r\n        let participatedREVVCount = 0.0\r\n        let paidTriesCount = 0.0\r\n        let totalTries = 0.0\r\n\r\n        this.state.eventData.forEach(event => {\r\n            event.REVVReward = 0.0\r\n            event.dollarReward = 0.0\r\n            event.rank = 0\r\n            let tryCount = walletTransactions.reduce(function (n, val) {\r\n                return n + (new Date(val.timeStamp) >= new Date(event.startTimestamp) && new Date(val.timeStamp) <= new Date(event.endTimestamp));\r\n            }, 0);\r\n\r\n            if (event.prizeData && walletPositions[event.id]) {\r\n                let currentWalletPosition = walletPositions[event.id]\r\n                let currentRank = parseInt(currentWalletPosition.rank)\r\n                event.rank = currentRank\r\n                event.time = millisToMinutesAndSeconds(walletPositions[event.id].time)\r\n                generatePrizeTable(event.prizeData,\r\n                    event.data.prize,\r\n                    event.data.splitLeaderboard,\r\n                    event.data.prize_total.toString(),\r\n                    event.data.dynamicPrizePoolRatio,\r\n                    event.data.percentagePrizePool)\r\n\r\n                let prize = event.data.prize\r\n                let walletPrize = undefined\r\n                for (let index = 0; index < prize.length; index++) {\r\n                    const prizeRank = prize[index];\r\n                    const nextIndex = index + 1\r\n                    if (nextIndex === prize.length) {\r\n                        walletPrize = prizeRank\r\n                        break;\r\n                    } else if (currentRank >= parseInt(prizeRank.rank) && currentRank < parseInt(prize[nextIndex].rank)) {\r\n                        walletPrize = prizeRank\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                event.unit = \"REVV\"\r\n                if (walletPrize) {\r\n                    let finalPrize = ''\r\n                    if (event.data.splitLeaderboard) {\r\n                        finalPrize = currentWalletPosition.hired ? walletPrize.hiredPrize : walletPrize.ownerPrize\r\n                    } else {\r\n                        finalPrize = event.data.percentagePrizePool ? walletPrize.ownerPrize : walletPrize.prize\r\n                    }\r\n\r\n                    if (walletPrize.unit === \"REVV\") {\r\n                        event.tries = tryCount\r\n                        totalTries += parseFloat(tryCount)\r\n                        if (tryCount > 0) {\r\n                            paidTriesCount += 1.0\r\n                        }\r\n                        participatedREVVCount += 1.0\r\n                        event.REVVReward += parseFloat(finalPrize)\r\n                        event.RewardString = event.REVVReward.toString() + \" REVV\"\r\n                        totalREVV += parseFloat(finalPrize)\r\n                        totalRank += currentRank\r\n                    } else {\r\n                        event.unit = \"$\"\r\n                        event.tries = tryCount\r\n                        event.dollarReward += parseFloat(finalPrize)\r\n                        totalDollars += parseFloat(finalPrize)\r\n                        event.RewardString = event.dollarReward.toString() + \" $\"\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n        if (totalRank > 0 && totalREVV > 0) {\r\n            this.setAverages(totalREVV / participatedREVVCount, totalRank / participatedREVVCount, totalTries / paidTriesCount)\r\n        } else {\r\n            this.setAverages(0, 0)\r\n        }\r\n\r\n        this.setTotalPrizes(totalREVV, totalDollars, totalTries)\r\n        this.setEventDataLoaded(true)\r\n    }\r\n\r\n    setTotalPrizes(totalREVV, totalDollars, totalTries) {\r\n        this.setState({\r\n            totalREVV: totalREVV,\r\n            totalDollars: totalDollars,\r\n            totalTries: totalTries,\r\n        })\r\n    }\r\n\r\n    getWalletPositions = async () => {\r\n        this.setEventDataLoaded(false)\r\n        let walletPositions = {};\r\n        let allleaderboards = await revvData.get('walletPositions', { params: { walletAddress: this.state.walletAddress.toUpperCase() } })\r\n        allleaderboards = allleaderboards.data\r\n        this.state.eventData.forEach(event => {\r\n            if (event.data.splitLeaderboard) {\r\n                let ownerLeaderboard = leaderboardPrefix + event.id.toUpperCase() + ownerSuffix\r\n                let hiredLeaderboard = leaderboardPrefix + event.id.toUpperCase() + hiredSuffix\r\n                let ownerEntry = getArrayValue(allleaderboards, 'leaderboard_id', ownerLeaderboard)\r\n                let hiredEntry = getArrayValue(allleaderboards, 'leaderboard_id', hiredLeaderboard)\r\n\r\n                if (ownerEntry) {\r\n                    walletPositions[event.id] = ownerEntry\r\n                } else if (hiredEntry) {\r\n                    hiredEntry.hired = true\r\n                    walletPositions[event.id] = hiredEntry\r\n                }\r\n            } else {\r\n                let leaderboard = leaderboardPrefix + event.id.toUpperCase()\r\n                let ownerEntry = getArrayValue(allleaderboards, 'leaderboard_id', leaderboard)\r\n                if (ownerEntry) {\r\n                    walletPositions[event.id] = ownerEntry\r\n                }\r\n            }\r\n        });\r\n\r\n        let txns\r\n        await revvTransactions\r\n            .get(`&address=${this.state.walletAddress}`)\r\n            .then((response) => {\r\n                txns = response.data.result\r\n                txns = this.filterTransactions(txns);\r\n            }).catch((e) => {\r\n                console.error(e);\r\n            });\r\n\r\n        this.setWalletPosition(walletPositions, txns)\r\n    }\r\n\r\n    filterTransactions(txns) {\r\n        txns = txns.filter((txn) => {\r\n            return txn.tokenSymbol === \"REVV\" && txn.to.toUpperCase() === \"0x069895FdA566d0364ABEc6e290BeE3D565c55666\".toUpperCase() &&\r\n                txn.value === \"5000000000000000000\";\r\n        });\r\n\r\n        txns = txns.map((txn) => {\r\n            txn.timeStamp = new Date(txn.timeStamp * 1000)\r\n            return txn;\r\n        })\r\n\r\n        return txns;\r\n    }\r\n\r\n\r\n    setAverages(averageREVV, averageRank, averageTries) {\r\n        this.setState({\r\n            averageREVV: averageREVV,\r\n            averageRank: averageRank,\r\n            averageTries: averageTries,\r\n        })\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        return (\r\n            <Grid container spacing={3} >\r\n                <Grid item md={12} xs={12}>\r\n                    <TextField\r\n                        id=\"wallet-address\"\r\n                        label=\"Wallet Address\"\r\n                        variant=\"outlined\"\r\n                        fullWidth\r\n                        focused\r\n                        placeholder=\"0x000...\"\r\n                        onChange={(e) => this.setWalletAddress(e.target.value)}\r\n                    />\r\n                </Grid>\r\n                <Grid item xs={12} alignContent=\"center\" alignItems=\"center\">\r\n                    <Button color=\"primary\" fullWidth variant=\"contained\" onClick={() => this.getWalletPositions()} >Get Wallet List</Button>\r\n                </Grid>\r\n                {this.state.totalREVV &&\r\n                    <React.Fragment>\r\n                        <Grid item md={6} xs={12} alignContent=\"center\" alignItems=\"center\">\r\n                            <TextField\r\n                                id=\"totalRevv\"\r\n                                label=\"Total REVV (REVV Prize Structure)\"\r\n                                variant=\"outlined\"\r\n                                disabled\r\n                                fullWidth\r\n                                value={this.state.totalREVV.toFixed(2).toString() + \" REVV\" + (this.state.REVVPrice ? \" (\" + (this.state.REVVPrice * this.state.totalREVV).toFixed(2).toString() + \" $)\" : \"\")}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item md={6} xs={12} alignContent=\"center\" alignItems=\"center\">\r\n                            <TextField\r\n                                id=\"totalDollars\"\r\n                                label=\"Total Dollars ($ Prize Structure)\"\r\n                                variant=\"outlined\"\r\n                                disabled\r\n                                fullWidth\r\n                                value={this.state.totalDollars.toFixed(2).toString() + \" $\"}\r\n                            />\r\n                        </Grid>\r\n                    </React.Fragment>\r\n                }{this.state.averageRank > 0 &&\r\n                    <React.Fragment>\r\n                        <Grid item md={6} xs={12} alignContent=\"center\" alignItems=\"center\">\r\n                            <TextField\r\n                                id=\"averageRank\"\r\n                                label=\"Average Rank (REVV Prize Structure)\"\r\n                                variant=\"outlined\"\r\n                                disabled\r\n                                fullWidth\r\n                                value={this.state.averageRank.toFixed(0).toString()}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item md={6} xs={12} alignContent=\"center\" alignItems=\"center\">\r\n                            <TextField\r\n                                id=\"averageREVV\"\r\n                                label=\"Average REVV Earned (REVV Prize Structure)\"\r\n                                variant=\"outlined\"\r\n                                disabled\r\n                                fullWidth\r\n                                value={this.state.averageREVV.toFixed(2).toString() + \" REVV\" + (this.state.REVVPrice ? \" (\" + (this.state.REVVPrice * this.state.averageREVV).toFixed(2).toString() + \" $)\" : \"\")}\r\n                            />\r\n                        </Grid>\r\n                    </React.Fragment>\r\n                }{this.state.totalTries &&\r\n                    <React.Fragment>\r\n                        <Grid item md={6} xs={12} alignContent=\"center\" alignItems=\"center\">\r\n                            <TextField\r\n                                id=\"totalTries\"\r\n                                label=\"Total Tries (REVV Prize Structure)\"\r\n                                variant=\"outlined\"\r\n                                disabled\r\n                                fullWidth\r\n                                value={this.state.totalTries.toFixed(0).toString() + \" Tries\" + (this.state.REVVPrice ? \" (\" + (this.state.totalTries * 5) + \" REVV/\" + (this.state.REVVPrice * this.state.totalTries * 5).toFixed(2).toString() + \" $)\" : \"\")}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item md={6} xs={12} alignContent=\"center\" alignItems=\"center\">\r\n                            <TextField\r\n                                id=\"averageTries\"\r\n                                label=\"Average Tries (REVV Prize Structure)\"\r\n                                variant=\"outlined\"\r\n                                disabled\r\n                                fullWidth\r\n                                value={this.state.averageTries.toFixed(0).toString() + \" Tries\" + (this.state.REVVPrice ? \" (\" + (this.state.averageTries * 5).toFixed(2) + \" REVV/\" + (this.state.REVVPrice * this.state.averageTries * 5).toFixed(2).toString() + \" $)\" : \"\")}\r\n                            />\r\n                        </Grid>\r\n                    </React.Fragment>\r\n                }\r\n                <Grid item xs={12}>\r\n                    <MaterialTable\r\n                        theme={theme()}\r\n                        style={{ width: \"100%\", display: \"grid\" }}\r\n                        title=\"REVV Leaderboards\"\r\n                        columns={this.state.columns}\r\n                        data={this.state.eventData}\r\n                        icons={tableIcons}\r\n                        isLoading={!this.state.eventDataLoaded}\r\n                        options={{\r\n                            pageSize: 10,\r\n                            pageSizeOptions: [5, 10, 20, { value: this.state.eventData ? parseInt(this.state.eventData.length) : 100, label: 'All' }],\r\n                            filtering: true,\r\n                            selection: true,\r\n                            search: false,\r\n                            toolbar: true,\r\n                            grouping: true,\r\n                            exportButton: true,\r\n                            exportAllData: true\r\n\r\n                        }}\r\n                        onSelectionChange={(rows) => {\r\n                            let totalREVV = 0.0\r\n                            let totalDollars = 0.0\r\n                            let totalRank = 0.0\r\n                            let participatedREVVCount = 0.0\r\n                            let paidTriesCount = 0.0\r\n                            let totalTries = 0.0\r\n\r\n                            if (rows.length === 0) {\r\n                                rows = this.state.eventData\r\n                            }\r\n\r\n                            rows.forEach(row => {\r\n                                totalREVV += parseFloat(row.REVVReward)\r\n                                totalDollars += parseFloat(row.dollarReward)\r\n                                if (row.unit === \"REVV\") {\r\n                                    totalRank += parseFloat(row.rank)\r\n                                    participatedREVVCount += 1.0\r\n                                    totalTries += row.tries\r\n                                    if (row.tries && row.tries > 0) {\r\n                                        paidTriesCount += 1.0\r\n                                    }\r\n                                }\r\n                            });\r\n\r\n                            if (totalRank > 0 && totalREVV > 0) {\r\n                                this.setAverages(totalREVV / participatedREVVCount, totalRank / participatedREVVCount, totalTries / paidTriesCount)\r\n                            } else {\r\n                                this.setAverages(0, 0)\r\n                            }\r\n\r\n                            this.setTotalPrizes(totalREVV, totalDollars, totalTries)\r\n                        }}\r\n                    />\r\n                </Grid>\r\n            </Grid>\r\n        )\r\n    }\r\n}\r\n","import axios from 'axios';\r\n\r\nexport default axios.create({\r\n    baseURL: \"https://api.polygonscan.com/api?module=account&action=tokentx&contractaddress=0x70c006878a5a50ed185ac4c87d837633923de296&sort=desc&apikey=NW6MQ4UW5JIEVBH61JW4AK3WY2Q27ZZIM7\"\r\n});"],"sourceRoot":""}